{% extends 'base.html.twig' %}

{% block body %}
<div class="row">
	<div class="col-lg-3">
		<button onclick="goTo('connexion')">
			{{ 'mma.03connexion'|trans }}
		</button>
		<div class="current-pos"></div>
	</div>
	<div class="col-lg-3">
		<button "onclick="goTo('adress')">
			{{ 'mma.04adress'|trans }}
		</button>
		<div class="current-pos"></div>
	</div>
	<div class="col-lg-3">
		<button onclick="goTo('delivery')">
			{{ 'mma.05delivery'|trans }}
		</button>
		<div class="current-pos"></div>
	</div>
	<div class="col-lg-3">
		<button style="color: #33cc33;" onclick="goTo('payement')">
			{{ 'mma.06payement'|trans }}
		</button>
		<div style="background-color: #33cc33" class="current-pos"></div>
	</div>
</div>
<div class="row" style="margin-bottom: 30px"></div>

{# <div class="row panel panel-default">#} {# <div class="panel-body">#}
{# <div class="row">#} {# <div class="col-lg-6">Votre carte de
credit</div>#} {# <div class="col-lg-3">Nom de la carte</div>#} {# <div
class="col-lg-3">Date d´expiration</div>#} {# </div>#} {# <div
class="row divider"></div>#} {# {% for carte in cartesDeCredit %}#} {#
<div class="row alert alert-error" role="alert">#} {# <div
class="col-lg-6">#} {# <input type="radio" name="carte"> <i#} {#
class="fa fa-cc-mastercard" style="font-size: 20px;"
checked="true"></i>#} {# {{ carte.nomDeLaCarte }}#} {# ending with#} {#
{{ carte.numeroDeLaCarte|slice(carte.numeroDeLaCarte|length - 4,
carte.numeroDeLaCarte|length) }}#} {# </div>#} {# <div
class="col-lg-3">{{ carte.nomDeLaCarte }}</div>#} {# <div
class="col-lg-2">{{ carte.dateDExpiration|date('Y/m') }}</div>#} {# <div
class="col-lg-1"><a href="{{
path('commander_controller_suprimer_carte',{'carteId':carte.id}) }}"
class="btn fa fa-trash" style="color:red"></a></div>#} {# </div>#} {# {%
endfor %}#} {# <span class="fa fa-plus"></span> <a href=""
data-toggle="modal"#} {# data-target="#ajouterCarteModal">Ajouter un
moyen de payement</a>#} {# </div>#} {# <div class="panel-footer"><a
class="btn" href="{{ path('commander_controller_achever_le_payement')
}}">Achever le payement</a></div>#} {# </div>#}
<div class="col-lg-8">
	<div class="panel panel-default">
		<div class="panel-heading">
			{{ 'mma.payement.verifyyourdata'|trans }}
		</div>
		<div class="panel-body">
			<table>
				<tr>
					<td>KUNDENNUMMER:</td>
					<td>{{ app.session.get('compte').id }}</td>
				</tr>
				<tr>
					<td>NOM ET PRENOM:</td>
					<td>{{ app.session.get('compte').nom }} {{ app.session.get('compte').prenom }}</td>
				</tr>
			</table>
			<div class="divider"></div>
			<table>
				<tr>
					<td>BOITE POSTALE & VILLE:</td>
					<td>{{ app.session.get('deliveryAdress').boitePostale }} {{ app.session.get('deliveryAdress').ville }}
					</td>
				</tr>
				<tr>
					<td>RUE:</td>
					<td>{{ app.session.get('deliveryAdress').rueEtNr }}</td>
				</tr>
			</table>
			<div class="divider"></div>
			<table>
				<tr>
					<td>MOYEN DE LIVRAISON:</td>
					<td>{{ app.session.get('deliveryWay') }}</td>
				</tr>
			</table>
			
			<div class="divider"></div>
			<table class="table">
				{%   for panierItem in app.session.get('panier').panieritems %}
				<tr valign="center">
					<table>
						<tr>
							<td>
									<b>{{  panierItem.produit.nom }} ({{  panierItem.quantite }} )</b>
								</td>
								<td>{{ 'mma.deliveryway.unitprice'|trans }}: {{  panierItem.produit.prix }}
								€</td>
						</tr>
					</table>
					</td>

				</tr>
				{%  endfor %}
			</table>
		</div>
	</div>
</div>
<div class="col-lg-4">
	<div class="panel panel-default">
		<div class="panel-heading">
			{{ 'mma.payement.payementmode'|trans }}
		</div>
		<div class="panel-body">
			<table>
				<tr>
					<td><div id="paypal-button-container"></div></td>
				</tr>
			</table>
			<div class="divider"></div>
			<table>
				<tr>
					<td><a class="btn"
						style="background-color: darkorange; color: #fff"
						href='{{ path('message_controller_facture',{'reciever':app.session.get('compte').login.email}) }}'>{{ 'mma.payement.payementmodecheque'|trans }}</a></td>
				</tr>
			</table>
			
		</div>
	</div>

</div>


<script>
	paypal.Button
			.render(
					{

						// Set your environment

						env : 'sandbox', // sandbox | production

						// Specify the style of the button

						style : {
							label : 'buynow',
							fundingicons : true, // optional
							branding : true, // optional
							size : 'small', // small | medium | large | responsive
							shape : 'rect', // pill | rect
							color : 'gold' // gold | blue | silve | black
						},

						// PayPal Client IDs - replace with your own
						// Create a PayPal app: https://developer.paypal.com/developer/applications/create

						client : {
							sandbox : 'AZDxjDScFpQtjWTOUtWKbyN_bDt4OgqaF4eYXlewfBP4-8aqX3PiV8e1GWU6liB2CUXlkA59kJXE7M6R',
							production : '<insert production client id>'
						},

						// Wait for the PayPal button to be clicked

						payment : function(data, actions) {
							return actions.payment.create({
								transactions : [ {
									amount : {
										total : '0.01',
										currency : 'USD'
									}
								} ]
							});
						},

						// Wait for the payment to be authorized by the customer

						onAuthorize : function(data, actions) {
							return actions.payment.execute().then(function() {
								window.alert('Payment Complete!');

							});
						}

					}, '#paypal-button-container');
</script>
{{  include("commander/ajouter-carte.html.twig") }}
{% endblock %}
{% block stylesheets %}
<link rel="stylesheet" href="{{ asset('css/proceedpayement.css') }}" />
{% endblock %}
